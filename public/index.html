<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task Forge - LAN Based GPU Sharing Platform</title>
    <link href="https://fonts.googleapis.com/css2?family=Oxanium:wght@400;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/celandine-gothic" rel="stylesheet">
    <style>
        /* General Styles - Enhanced Interactive Background */
        :root {
            --bg-color: #0A0A0A; /* Deepest charcoal black */
            --card-bg: #1A1A1A; /* Slightly lighter charcoal for cards */
            --text-color: #F8F8F8; /* Near-white for readability */
            --accent-color: #FF7F00; /* Electric Orange for main accents */
            --accent-secondary: #00FF00; /* Neon Green for secondary accents */
            --accent-hover: #FFA500; /* Brighter Orange for hover states */
            --success-color: #39FF14; /* Pure Neon Green for success */
            --danger-color: #FF0000; /* Bright Red for danger */
            --border-color: #333333; /* Dark grey border */
            --input-bg: #050505; /* Almost true black for inputs */
        }
        
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Orbitron', sans-serif; /* Changed to Orbitron for all text */
            background-color: var(--bg-color); /* This will be the base color behind the canvas */
            color: var(--text-color);
            overflow-x: hidden;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Navbar - High-Contrast Redesign */
        .navbar {
            /* Gradient background fading to transparent at 180 degrees (bottom) */
            background: linear-gradient(180deg, var(--bg-color) 0%, rgba(10, 10, 10, 0) 100%); 
            padding: 0.75rem 2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 127, 0, 0.1); /* Subtle orange border */
            backdrop-filter: blur(5px); /* Professional blur effect */
        }

        .navbar-logo-container {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .navbar-logo {
            height: 40px;
            width: auto;
            filter: drop-shadow(0 0 5px var(--accent-color)); /* Glow effect for logo */
        }

        .navbar-brand-text {
            /* font-family: 'Celandine', sans-serif; Removed specific font, now inherits Orbitron */
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--accent-color);
            text-shadow: 0 0 10px var(--accent-hover); /* Stronger glow */
        }

        /* Added new style for the clickable brand area */
        .navbar-brand-clickable {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none; /* Remove underline from link */
            cursor: pointer;
        }


        .nav-links {
            list-style: none;
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-color);
            text-decoration: none;
            font-weight: 400;
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--accent-secondary); /* Hover with secondary accent (neon green) */
            text-shadow: 0 0 8px var(--accent-secondary);
            transform: translateY(-2px); /* Slight lift */
        }

        .use-case-dropdown {
            background: var(--input-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px; /* Slightly more rounded */
            color: var(--text-color);
            padding: 0.6rem 1.2rem;
            font-size: 1rem;
            cursor: pointer;
            transition: border-color 0.3s, box-shadow 0.3s;
            appearance: none; /* Remove default select arrow */
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23FF7F00' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 18px;
            font-family: 'Orbitron', sans-serif; /* Applied Orbitron font */
        }

        .use-case-dropdown:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(255, 127, 0, 0.5); /* Glowing border on focus */
        }

        .use-case-dropdown option {
            /* Enhanced styling for options */
            background: linear-gradient(145deg, var(--card-bg), rgba(10, 10, 10, 0.9)); /* Gradient background */
            color: var(--text-color);
            padding: 12px 15px; /* Increased padding for better spacing */
            border-bottom: 1px solid rgba(51, 51, 51, 0.5); /* Subtle separator */
            transition: background-color 0.2s ease, color 0.2s ease; /* Smooth transitions */
            font-family: 'Orbitron', sans-serif; /* Applied Orbitron font */
        }

        .use-case-dropdown option:hover {
            background-color: rgba(26, 26, 26, 0.9); /* Darker on hover */
            color: var(--accent-secondary); /* Neon green text on hover */
        }

        /* Hero Section - High-Contrast Redesign */
        .hero-section {
            display: flex;
            flex-direction: column;
            justify-content: flex-start; /* Align items to start to respect margins */
            align-items: center;
            padding: 4rem 0; /* Adjusted padding to reduce space */
            background-color: transparent; 
            background-attachment: fixed;
            color: #fff;
            position: relative;
            min-height: 90vh;
            border-bottom: 2px solid rgba(255, 127, 0, 0.2); /* Orange border */
            overflow: hidden;
        }

        /* Removed .hero-section::before as canvas handles the interactive background */

        /* New styles for hero text and SVG positioning */
        .hero-heading {
            /* font-family: 'Orbitron', sans-serif; Now inherited from body */
            font-size: 4.5rem;
            margin-bottom: 2rem; /* Space below heading */
            font-weight: 700;
            text-shadow: 0 0 20px var(--accent-hover), 0 0 40px rgba(255, 127, 0, 0.5); /* Orange glow */
            letter-spacing: -3px;
            text-align: center;
            position: relative; /* Ensure it's above the SVG */
            z-index: 10;
        }

        .hero-paragraph {
            font-size: 1.6rem;
            max-width: 800px;
            margin-top: 2rem; /* Space above paragraph */
            margin-bottom: 4rem; /* Space below paragraph before next section */
            font-weight: 400;
            color: var(--text-color);
            text-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
            text-align: center;
            position: relative;
            z-index: 10;
        }

        /* SVG Container for Homepage Layout */
        .gpu-svg-display { /* New class for styling this block */
            position: relative; /* To contain absolute buttons */
            width: 940px;
            max-width: calc(100% - 56px); /* Responsive width */
            margin: 2rem auto; /* Space above and below the SVG */
            display: flex; /* To center the SVG itself within this div */
            justify-content: center;
            align-items: center;
            z-index: 10; /* Ensure it's above the background canvas */
        }

        .gpu-svg-display svg {
            width: 100%;
            height: auto;
            display: block;
        }

        /* fan button styling - NOW SOLID COLOR AND POSITIONED RELATIVE TO .gpu-svg-display */
        .fan-btn {
            position: absolute;
            width: 120px;
            height: 45px;
            border-radius: 25px;
            background: var(--accent-color); /* Solid accent color */
            border: none;
            font-weight: 700;
            cursor: pointer;
            color: var(--bg-color);
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            z-index: 20; /* Ensure buttons are above the SVG */
            box-shadow: 0 0 20px rgba(255, 127, 0, 0.6); /* Orange glow */
            /* Centering with transform */
            transform: translate(-50%, -50%); 
        }

        .fan-btn:hover {
            transform: translateY(-5px) translate(-50%, -50%); /* Apply translateY first, then translate(-50%, -50%) */
            background: var(--accent-hover); /* Brighter orange on hover */
            box-shadow: 0 0 30px rgba(255, 165, 0, 0.8); /* Brighter orange glow on hover */
        }
        
        /* Specific positioning for fan buttons relative to the SVG viewBox */
        #leftFanBtn {
            left: calc(260 / 920 * 100%); /* 260px / 920px (SVG width) */
            top: calc(190 / 380 * 100%);  /* 190px / 380px (SVG height) */
        }
        #rightFanBtn {
            left: calc(590 / 920 * 100%); /* 590px / 920px (SVG width) */
            top: calc(190 / 380 * 100%);  /* 190px / 380px (SVG height) */
        }

        /* SVG rotor animation rules (UNCHANGED) */
        .rotor {
            transform-box: fill-box;
            transform-origin: 50% 50%;
        }

        .spincw {
            animation: spinCW 1.9s linear infinite;
        }

        .spinccw {
            animation: spinCCW 2.05s linear infinite;
        }

        @keyframes spinCW {
            to { transform: rotate(360deg); }
        }
        @keyframes spinCCW {
            to { transform: rotate(-360deg); }
        }

        /* Page Content - High-Contrast Redesign */
        .page-content {
            padding: 6rem 0;
            /* Semi-transparent background to allow canvas to show */
            background-color: rgba(10, 10, 10, 0.3); /* Subtle dark overlay */
        }

        .page-content h2 {
            text-align: center;
            font-size: 3.5rem;
            margin-bottom: 3rem;
            color: var(--accent-color);
            text-shadow: 0 0 15px rgba(255, 127, 0, 0.6); /* Orange glow */
            /* font-family: 'Orbitron', sans-serif; Now inherited from body */
        }

        .filter-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 25px;
            background-color: rgba(26, 26, 26, 0.8); /* Semi-transparent card background */
            border-radius: 12px;
            margin-bottom: 3rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            flex-wrap: wrap;
            gap: 15px;
        }

        .filter-controls input, .filter-controls select {
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1.1rem;
            background-color: var(--input-bg);
            color: var(--text-color);
            transition: border-color 0.3s, box-shadow 0.3s;
            width: 250px;
            max-width: 100%;
        }

        .filter-controls input:focus, .filter-controls select:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 10px rgba(255, 127, 0, 0.5); /* Glowing border on focus */
        }

        .gpu-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2.5rem;
        }

        .gpu-card {
            background: rgba(26, 26, 26, 0.8); /* Semi-transparent card background */
            border-radius: 15px;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.6);
            overflow: hidden;
            text-align: left;
            border: 1px solid var(--border-color);
            transition: transform 0.4s ease, box-shadow 0.4s ease;
            opacity: 0;
            transform: translateY(30px);
            position: relative;
        }

        .gpu-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: linear-gradient(90deg, var(--accent-color), var(--accent-secondary));
            border-radius: 15px 15px 0 0;
            opacity: 0.7;
            transition: height 0.3s ease;
        }

        .gpu-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.8), 0 0 25px rgba(255, 127, 0, 0.4); /* Orange glow */
        }
        
        .gpu-card:hover::before {
            height: 10px;
        }

        .gpu-card-header {
            padding: 1.8rem;
            background: linear-gradient(45deg, rgba(26, 26, 26, 0.9), rgba(10, 10, 10, 0.9)); /* Slightly more opaque gradient for header */
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .gpu-card-header h3 {
            margin: 0;
            font-size: 2rem;
            color: var(--accent-hover);
            text-shadow: 0 0 10px rgba(255, 127, 0, 0.3); /* Orange glow */
        }

        .gpu-card-body {
            padding: 1.8rem;
        }

        .gpu-card-body p {
            margin: 0.8rem 0;
            color: var(--text-color);
        }

        .gpu-card-body strong {
            color: var(--accent-secondary); /* Use secondary accent (neon green) for strong text */
        }

        .gpu-card-body ul {
            list-style-type: none;
            padding-left: 0;
            margin-top: 1rem;
        }

        .gpu-card-body li::before {
            content: '\2022';
            position: absolute;
            left: 0;
            color: var(--accent-color); /* Orange bullet */
            font-size: 1.5rem;
            line-height: 1;
            top: 2px;
        }

        .gpu-card-footer {
            padding: 1.2rem 1.8rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: rgba(10, 10, 10, 0.8); /* Semi-transparent footer background */
        }

        .delete-button {
            background-color: var(--danger-color);
            color: #fff;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.2s, box-shadow 0.3s;
            box-shadow: 0 4px 15px rgba(255, 0, 0, 0.4); /* Red glow */
        }

        .delete-button:hover {
            background-color: #E60000;
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 0, 0, 0.6);
        }

        /* Form - High-Contrast Redesign */
        .form-container {
            max-width: 700px;
            margin: 0 auto;
            background: rgba(26, 26, 26, 0.8); /* Semi-transparent form background */
            padding: 3rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            border: 1px solid var(--border-color);
        }

        .form-group {
            margin-bottom: 2rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.7rem;
            font-weight: 600;
            color: var(--accent-color); /* Orange label text */
            font-size: 1.1rem;
        }

        .form-group input {
            width: 100%;
            padding: 14px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1.1rem;
            background-color: var(--input-bg);
            color: var(--text-color);
            box-sizing: border-box;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 15px rgba(255, 127, 0, 0.6); /* Orange glow */
        }

        /* Form Submit Button - NOW SOLID COLOR */
        .form-submit-button {
            width: 100%;
            padding: 18px;
            background: var(--accent-color); /* Solid accent color */
            color: var(--bg-color); /* Dark text on vibrant button */
            border: none;
            border-radius: 10px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background 0.3s ease;
            box-shadow: 0 8px 25px rgba(255, 127, 0, 0.4); /* Orange glow */
            letter-spacing: 1px;
            text-transform: uppercase;
        }

        .form-submit-button:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(255, 127, 0, 0.7), 0 0 30px var(--accent-hover); /* Brighter orange glow */
            background: var(--accent-hover); /* Brighter orange on hover */
        }
        
        .success-message {
            text-align: center;
            margin-top: 2rem;
            padding: 1.5rem;
            background-color: var(--success-color);
            color: var(--bg-color); /* Dark text on green background */
            border: 1px solid var(--success-color);
            border-radius: 8px;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(57, 255, 20, 0.4); /* Green glow */
        }

        .success-message .cta-button {
            background-color: var(--accent-color);
            color: var(--bg-color);
            padding: 10px 20px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            margin-top: 15px;
            transition: background-color 0.3s, transform 0.2s;
        }

        .success-message .cta-button:hover {
            background-color: var(--accent-hover);
            transform: translateY(-2px);
        }

        /* Why Task Forge Section - High-Contrast Redesign */
        .taskforge-section {
            padding: 6rem 2rem;
            text-align: center;
            /* Semi-transparent background to allow canvas to show */
            background-color: rgba(10, 10, 10, 0.3); /* Subtle dark overlay */
            border-top: 1px solid var(--border-color);
        }

        .taskforge-section h2 {
            text-align: center;
            font-size: 3.5rem;
            margin-bottom: 3rem;
            color: var(--accent-color);
            text-shadow: 0 0 15px rgba(255, 127, 0, 0.6); /* Orange glow */
            /* font-family: 'Orbitron', sans-serif; Now inherited from body */
        }

        .taskforge-boxes {
            display: flex;
            justify-content: center;
            gap: 2.5rem;
            flex-wrap: wrap;
        }

        .taskforge-box {
            background: rgba(26, 26, 26, 0.8); /* Semi-transparent card background */
            border: 1px solid var(--border-color);
            border-radius: 15px;
            padding: 2.5rem;
            width: 350px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .taskforge-box::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(255, 127, 0, 0.1) 0%, transparent 70%); /* Orange radial glow */
            transform: rotate(45deg);
            opacity: 0;
            transition: opacity 0.5s ease;
            z-index: 0;
        }

        .taskforge-box:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.6), 0 0 20px rgba(255, 127, 0, 0.3); /* Orange glow */
        }

        .taskforge-box:hover::before {
            opacity: 1;
        }

        .taskforge-box h3 {
            color: var(--accent-color); /* Orange heading */
            font-size: 1.6rem;
            margin-bottom: 1.2rem;
            position: relative;
            z-index: 1;
        }

        .taskforge-box p {
            color: var(--text-color);
            font-size: 1.05rem;
            line-height: 1.7;
            position: relative;
            z-index: 1;
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .hero-heading {
                font-size: 3rem;
            }
            .hero-paragraph {
                font-size: 1.2rem;
            }
            .fan-btn {
                width: 100px;
                height: 40px;
                font-size: 0.85rem;
            }
            #leftFanBtn {
                left: calc(260 / 920 * 100%);
                top: calc(190 / 380 * 100%);
            }
            #rightFanBtn {
                left: calc(590 / 920 * 100%);
                top: calc(190 / 380 * 100%);
            }
            .page-content h2, .taskforge-section h2 {
                font-size: 2.5rem;
            }
            .filter-controls {
                flex-direction: column;
            }
            .filter-controls input, .filter-controls select {
                width: 90%;
            }
        }

        @media (max-width: 480px) {
            .navbar {
                flex-direction: column;
                padding: 1rem;
            }
            .nav-links {
                flex-direction: column;
                gap: 0.8rem;
                margin-top: 1rem;
            }
            .hero-heading {
                font-size: 2.5rem;
            }
            .hero-paragraph {
                font-size: 1rem;
            }
            .fan-btn {
                font-size: 0.8rem;
                width: 90px;
                height: 35px;
            }
            #leftFanBtn {
                left: calc(260 / 920 * 100%);
                top: calc(190 / 380 * 100%);
            }
            #rightFanBtn {
                left: calc(590 / 920 * 100%);
                top: calc(190 / 380 * 100%);
            }
            .page-content h2, .taskforge-section h2 {
                padding: 1.5rem; /* Reduced padding for smaller screens */
            }
            .form-container {
                padding: 1.5rem;
            }
            .gpu-card, .taskforge-box {
                width: 100%;
            }
        }

        /* --- Canvas Background Styles --- */
        #tech-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1; /* Ensure it's behind everything else */
            background-color: transparent; /* Allow body bg-color to show if canvas is not drawn on */
        }

        /* --- Styles to hide SVG on specific pages --- */
        body[data-page="browse"] .gpu-svg-display,
        body[data-page="host"] .gpu-svg-display,
        body[data-page="aiml"] .gpu-svg-display,
        body[data-page="rendering"] .gpu-svg-display,
        body[data-page="image-video"] .gpu-svg-display {
            display: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- TechBackground Component ---
        const TechBackground = () => {
            useEffect(() => {
                const canvas = document.getElementById("tech-bg");
                const ctx = canvas.getContext("2d");

                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;

                let particlesArray = [];
                // Mouse object for interaction
                let mouse = {
                    x: null,
                    y: null,
                    radius: 150 // Radius around mouse where particles react
                };

                // Event listener for mouse movement on the window
                window.addEventListener('mousemove', (event) => {
                    mouse.x = event.x;
                    mouse.y = event.y;
                });

                // Event listener for mouse leaving the window
                window.addEventListener('mouseout', () => {
                    mouse.x = undefined;
                    mouse.y = undefined;
                });

                class Particle {
                    constructor(x, y, dx, dy, size) {
                        this.x = x;
                        this.y = y;
                        this.dx = dx;
                        this.dy = dy;
                        this.size = size;
                    }
                    draw() {
                        ctx.beginPath();
                        ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                        // Using CSS variables for particle colors
                        ctx.fillStyle = getComputedStyle(document.documentElement).getPropertyValue('--accent-color'); 
                        ctx.shadowColor = getComputedStyle(document.documentElement).getPropertyValue('--accent-color');
                        ctx.shadowBlur = 30; /* Increased shadow blur */
                        ctx.fill();
                    }
                    update() {
                        // Check for mouse proximity
                        if (mouse.x !== undefined && mouse.y !== undefined) {
                            let distanceX = this.x - mouse.x;
                            let distanceY = this.y - mouse.y;
                            let distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);
                            
                            // If particle is within mouse radius, repel it
                            if (distance < mouse.radius) {
                                let forceDirectionX = distanceX / distance;
                                let forceDirectionY = distanceY / distance;
                                let maxForce = 10; // Max force to apply
                                let force = (mouse.radius - distance) / mouse.radius; // Force based on proximity
                                let directionX = forceDirectionX * force * maxForce;
                                let directionY = forceDirectionY * force * maxForce;

                                // Apply force to particle's velocity
                                this.dx += directionX * 0.05; // Adjust multiplier for desired effect
                                this.dy += directionY * 0.05;
                            }
                        }

                        this.x += this.dx;
                        this.y += this.dy;

                        // Boundary checks
                        if (this.x < 0 || this.x > canvas.width) this.dx = -this.dx;
                        if (this.y < 0 || this.y > canvas.height) this.dy = -this.dy;
                        
                        this.draw();
                    }
                }

                function connectParticles() {
                    for (let a = 0; a < particlesArray.length; a++) {
                        for (let b = a; b < particlesArray.length; b++) {
                            let dx = particlesArray[a].x - particlesArray[b].x;
                            let dy = particlesArray[a].y - particlesArray[b].y;
                            let distance = Math.sqrt(dx * dx + dy * dy);
                            if (distance < 150) {
                                ctx.beginPath();
                                // Using CSS variables for line color (translucent neon green)
                                ctx.strokeStyle = getComputedStyle(document.documentElement).getPropertyValue('--accent-secondary').trim() + '88'; /* Increased opacity */
                                ctx.lineWidth = 1;
                                ctx.moveTo(particlesArray[a].x, particlesArray[a].y);
                                ctx.lineTo(particlesArray[b].x, particlesArray[b].y);
                                ctx.stroke();
                                ctx.closePath();
                            }
                        }
                    }
                }

                function init() {
                    particlesArray = [];
                    for (let i = 0; i < 120; i++) { /* Increased number of particles */
                        let size = Math.random() * 2 + 1;
                        let x = Math.random() * canvas.width;
                        let y = Math.random() * canvas.height;
                        let dx = (Math.random() - 0.5) * 1.5;
                        let dy = (Math.random() - 0.5) * 1.5;
                        particlesArray.push(new Particle(x, y, dx, dy, size));
                    }
                }

                function animate() {
                    requestAnimationFrame(animate);
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    for (let i = 0; i < particlesArray.length; i++) {
                        particlesArray[i].update();
                    }
                    connectParticles();
                }

                init();
                animate();

                window.addEventListener("resize", () => {
                    canvas.width = window.innerWidth;
                    canvas.height = window.innerHeight;
                    init();
                });

                // Cleanup function for useEffect
                return () => {
                    window.removeEventListener("resize", () => {
                        canvas.width = window.innerWidth;
                        canvas.height = window.innerHeight;
                        init();
                    });
                    window.removeEventListener('mousemove', () => {}); // Remove anonymous functions
                    window.removeEventListener('mouseout', () => {}); // Remove anonymous functions
                };
            }, []); // Empty dependency array means this runs once on mount

            return (
                <canvas id="tech-bg"></canvas>
            );
        };

        // --- Your Firebase Configuration ---
        const firebaseConfig = {
            apiKey: "AIzaSyAUmtxCQfeZYvmj27X4jK7Ey5--1udr6dk",
            authDomain: "plucky-shore-459608-f2.firebaseapp.com",
            projectId: "plucky-shore-459608-f2",
            storageBucket: "plucky-shore-459608-f2.firebasestorage.app",
            messagingSenderId: "620975295154",
            appId: "1:620975295154:web:51213052bd397092e797ab",
            measurementId: "G-1BLN3WG7VS"
        };
        // Initialize Firebase
        try {
            firebase.initializeApp(firebaseConfig);
        } catch (e) {
            // if already initialized in the environment, ignore
            console.warn("Firebase already initialized or error during initialization:", e);
        }
        const db = firebase.firestore();
        const animateHero = () => {
            // guard anime exists
            if (typeof anime !== 'undefined') {
                anime({
                    targets: '.hero-heading, .gpu-svg-display, .hero-paragraph', // Target all elements in sequence
                    opacity: [0, 1],
                    translateY: [20, 0],
                    delay: anime.stagger(200, { start: 500 }),
                    easing: 'easeOutQuad'
                });
            } else {
                // fallback: simply set visible
                const heading = document.querySelector('.hero-heading');
                const svgDisplay = document.querySelector('.gpu-svg-display');
                const paragraph = document.querySelector('.hero-paragraph');
                if (heading) heading.style.opacity = 1;
                if (svgDisplay) svgDisplay.style.opacity = 1;
                if (paragraph) paragraph.style.opacity = 1;
            }
        };
        // --- Navbar (reintroduced, minimal) ---
        const Navbar = ({ onNavClick }) => (
            <nav className="navbar">
                <a href="#" className="navbar-brand-clickable" onClick={(ev) => { ev.preventDefault(); onNavClick('home'); }}>
                    {/* Replace the src below with your Base64 encoded image data or an online image URL */}
                    <img src="T.png" alt="Task Forge Logo" className="navbar-logo" />
                    <span className="navbar-brand-text">Task Forge</span>
                </a>
                <ul className="nav-links">
                    <li>
                        <select
                            className="use-case-dropdown"
                            onChange={(e) => {
                                const value = e.target.value;
                                if (value === 'aiml') onNavClick('aiml');
                                else if (value === 'rendering') onNavClick('rendering');
                                else if (value === 'image-video') onNavClick('image-video');
                                else onNavClick('home'); // Default or other options
                            }}
                        >
                            <option value="" disabled selected>Use Case</option> {/* Updated to be disabled and selected */}
                            <option value="aiml">AI/ML Frameworks</option>
                            <option value="rendering">3D & Video Rendering</option>
                            <option value="image-video">AI Image + Video Generation</option>
                        </select>
                    </li>
                    <li>
                        <a href="#" onClick={(ev) => { ev.preventDefault(); onNavClick('browse'); }}>
                            Browse GPUs
                        </a>
                    </li>
                    <li>
                        <a href="#" onClick={(ev) => { ev.preventDefault(); onNavClick('host'); }}>
                            List a GPU
                        </a>
                    </li>
                </ul>
            </nav>
        );
        // We'll use this component to render the homepage content
        const HomePage = ({ onNavClick }) => {
            const leftRotorRef = useRef(null);
            const rightRotorRef = useRef(null);
            useEffect(() => {
                animateHero();
                const leftTarget = document.getElementById('leftRotor');
                const rightTarget = document.getElementById('rightRotor');
                // Ensure fans start stopped
                if (leftTarget) leftTarget.style.animation = 'none';
                if (rightTarget) rightTarget.style.animation = 'none';
                const getSpeed = (distance, hoverRadius) => {
                    if (distance > hoverRadius) return 0;
                    const normalizedDistance = Math.max(0, Math.min(1, 1 - distance / hoverRadius));
                    // 1 at center -> faster
                    // Map normalizedDistance (0..1) to duration (slow..fast). We want smaller duration when closer.
                    // duration range: 50ms (fast) to 2000ms (slow)
                    const min = 50;
                    const max = 2000;
                    const duration = Math.round(max - (max - min) * Math.pow(normalizedDistance, 0.9));
                    return duration;
                };
                const handleMouseMove = (e) => {
                    const svgContainer = document.querySelector('.gpu-svg-display'); // Use the new class
                    if (!svgContainer) return;
                    const svgRect = svgContainer.getBoundingClientRect();
                    // Compute fan centers mapping viewBox (920 x 380) coordinates to DOM size
                    const svgWidth = 920;
                    const svgHeight = 380;
                    const leftFanSvgX = 260; // X coord of left fan center in SVG viewBox
                    const leftFanSvgY = 190; // Y coord of left fan center in SVG viewBox
                    const rightFanSvgX = 590; // X coord of right fan center in SVG viewBox
                    const rightFanSvgY = 190; // Y coord of right fan center in SVG viewBox

                    // Convert SVG coordinates to DOM coordinates relative to svgContainer
                    const leftFanCenterDomX = svgRect.left + (leftFanSvgX / svgWidth) * svgRect.width;
                    const leftFanCenterDomY = svgRect.top + (leftFanSvgY / svgHeight) * svgRect.height;
                    const rightFanCenterDomX = svgRect.left + (rightFanSvgX / svgWidth) * svgRect.width;
                    const rightFanCenterDomY = svgRect.top + (rightFanSvgY / svgHeight) * svgRect.height;

                    const hoverRadius = Math.max(80, Math.min(220, Math.round(Math.min(svgRect.width, svgRect.height) * 0.2))); // responsive radius

                    const distanceLeft = Math.hypot(e.clientX - leftFanCenterDomX, e.clientY - leftFanCenterDomY);
                    const distanceRight = Math.hypot(e.clientX - rightFanCenterDomX, e.clientY - rightFanCenterDomY);

                    const speedLeft = getSpeed(distanceLeft, hoverRadius);
                    const speedRight = getSpeed(distanceRight, hoverRadius);

                    if (leftTarget) {
                        if (speedLeft > 0) {
                            leftTarget.style.animation = `spinCW ${speedLeft}ms linear infinite`;
                        } else {
                            leftTarget.style.animation = 'none';
                        }
                    }

                    if (rightTarget) {
                        if (speedRight > 0) {
                            rightTarget.style.animation = `spinCCW ${speedRight}ms linear infinite`;
                        } else {
                            rightTarget.style.animation = 'none';
                        }
                    }
                };
                window.addEventListener('mousemove', handleMouseMove);
                return () => {
                    window.removeEventListener('mousemove', handleMouseMove);
                };
            }, []); // run once on mount
            return (
                <div>
                    <header className="hero-section">
                        {/* Heading */}
                        <h1 className="hero-heading">LAN Based GPU Sharing for Students</h1>
                        
                        {/* GPU SVG Container - Moved here from outside root */}
                        {/* Note: The SVG itself is large, so it's best to keep it collapsed in the code view */}
                        <div className="gpu-svg-display"> {/* New class for styling this block */}
                            {/* The core SVG content */}
                            <svg viewBox="0 0 920 380" xmlns="http://www.w3.org/2000/svg" aria-hidden="false" role="img" focusable="false">
                                <defs>
                                    <linearGradient id="casingGrad" x1="0" x2="1">
                                        <stop offset="0" stop-color="#1b1c1f" />
                                        <stop offset="1" stop-color="#0f1113" />
                                    </linearGradient>
                                    <linearGradient id="edgeGrad" x1="0" x2="1">
                                        <stop offset="0" stop-color="#2a2b2e" />
                                        <stop offset="1" stop-color="#0b0c0d" />
                                    </linearGradient>
                                    <radialGradient id="fanBack" cx="50%" cy="40%" r="60%">
                                        <stop offset="0%" stop-color="#161617" />
                                        <stop offset="60%" stop-color="#0b0b0c" />
                                        <stop offset="100%" stop-color="#000000" />
                                    </radialGradient>
                                    <linearGradient id="bladeMetal" x1="0" y1="0" x2="1" y2="1">
                                        <stop offset="0" stop-color="#5f6062" />
                                        <stop offset="0.45" stop-color="#a3a4a6" />
                                        <stop offset="1" stop-color="#616264" />
                                    </linearGradient>
                                    <radialGradient id="hubGrad" cx="50%" cy="50%">
                                        <stop offset="0" stop-color="#bdbdbd" />
                                        <stop offset="60" stop-color="#8e8e8e" />
                                        <stop offset="100%" stop-color="#444" />
                                    </radialGradient>
                                    <linearGradient id="pipeGrad" x1="0" x2="1">
                                        <stop offset="0" stop-color="#bdbdbd" />
                                        <stop offset="1" stop-color="#777" />
                                    </linearGradient>
                                    <linearGradient id="gloss" x1="0" x2="0" y1="0" y2="1">
                                        <stop offset="0" stop-color="rgba(255,255,255,0.06)" />
                                        <stop offset="1" stop-color="rgba(255,255,255,0.00)" />
                                    </linearGradient>
                                    <path id="bladePath" d=" M 0 -76 C 16 -74, 46 -56, 60 -34 C 70 -18, 62 -6, 44 -2 C 24 2, 6 -6, -2 -22 C -10 -38, -6 -66, 0 -76 Z" />
                                    <radialGradient id="screwGrad" cx="50%" cy="50%">
                                        <stop offset="0" stop-color="#d0d0d0" />
                                        <stop offset="60%" stop-color="#7b7b7b" />
                                        <stop offset="100%" stop-color="#2a2a2a" />
                                    </radialGradient>
                                    <filter id="innerShadow" x="-50%" y="-50%" width="200%" height="200%">
                                        <feGaussianBlur stdDeviation="6" result="g" />
                                        <feOffset dx="0" dy="4" result="o" />
                                        <feComposite in2="SourceGraphic" in="o" operator="over" />
                                    </filter>
                                </defs>
                                <g id="gpuBody">
                                    <rect x="28" y="26" rx="22" ry="22" width="864" height="328" fill="url(#casingGrad)" stroke="rgba(255,255,255,0.02)" />
                                    <rect x="28" y="26" rx="22" ry="22" width="864" height="80" fill="url(#gloss)" />
                                    <g transform="translate(180,38)" stroke-linecap="round">
                                        <path d="M0,0 C32,0 64,18 96,18" stroke="url(#pipeGrad)" stroke-width="8" fill="none" />
                                        <path d="M120,0 C152,0 184,18 216,18" stroke="url(#pipeGrad)" stroke-width="8" fill="none" />
                                    </g>
                                    <g transform="translate(44,46)">
                                        <rect x="0" y="0" width="200" height="240" rx="12" fill="rgba(0,0,0,0.02)" />
                                    </g>
                                    <g transform="translate(780,92)">
                                        <rect x="0" y="0" width="96" height="160" rx="8" fill="#0c0c0d" />
                                        <g fill="#0a0a0b" opacity="0.9">
                                            <rect x="8" y="8" width="80" height="8" rx="4" />
                                            <rect x="8" y="28" width="80" height="8" rx="4" />
                                            <rect x="8" y="48" width="80" height="8" rx="4" />
                                            <rect x="8" y="68" width="80" height="8" rx="4" />
                                            <rect x="8" y="88" width="80" height="8" rx="4" />
                                            <rect x="8" y="108" width="80" height="8" rx="4" />
                                            <rect x="8" y="128" width="80" height="8" rx="4" />
                                        </g>
                                    </g>
                                    <g transform="translate(16,118)">
                                        <rect x="0" y="0" width="18" height="140" rx="3" fill="#9fa6ad" />
                                        <rect x="4" y="0" width="10" height="140" rx="2" fill="#6b7278" />
                                    </g>
                                    <g transform="translate(48,300)">
                                        <rect x="0" y="0" width="420" height="28" fill="rgba(0,0,0,0.0)" />
                                        <g transform="translate(6,6)">
                                            <rect x="0" y="0" width="26" height="16" rx="2" fill="#c28b2b" />
                                            <rect x="34" y="0" width="28" height="16" rx="2" fill="#c28b2b" />
                                            <rect x="68" y="0" width="24" height="16" rx="2" fill="#c28b2b" />
                                            <rect x="102" y="0" width="20" height="16" rx="2" fill="#c28b2b" />
                                            <rect x="132" y="0" width="18" height="16" rx="2" fill="#c28b2b" />
                                        </g>
                                    </g>
                                    <g id="screws" fill="url(#screwGrad)" opacity="0.95">
                                        <circle cx="68" cy="60" r="4" />
                                        <circle cx="852" cy="60" r="4" />
                                        <circle cx="68" cy="320" r="4" />
                                        <circle cx="852" cy="320" r="4" />
                                    </g>
                                </g>
                                <g id="leftFan" transform="translate(260,190)">
                                    <circle cx="0" cy="0" r="86" fill="none" stroke="#050506" stroke-width="6" />
                                    <circle cx="0" cy="0" r="82" fill="url(#fanBack)" />
                                    <circle cx="0" cy="0" r="70" fill="rgba(0,0,0,0.36)" />
                                    <g id="leftRotor" class="rotor spincw" style={{'--spd':'1.9s'}}>
                                        <g transform="translate(0,0) scale(0.98)">
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(0)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(30)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(60)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(90)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(120)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(150)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(180)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(210)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(240)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(270)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(300)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(330)" />
                                        </g>
                                        <circle cx="0" cy="0" r="18" fill="url(#hubGrad)" stroke="#9b9b9b" stroke-width="1.2" />
                                        <circle cx="0" cy="0" r="6" fill="#333" />
                                    </g>
                                </g>
                                <g id="rightFan" transform="translate(590,190)">
                                    <circle cx="0" cy="0" r="86" fill="none" stroke="#050506" stroke-width="6" />
                                    <circle cx="0" cy="0" r="82" fill="url(#fanBack)" />
                                    <circle cx="0" cy="0" r="70" fill="rgba(0,0,0,0.36)" />
                                    <g id="rightRotor" class="rotor spinccw" style={{'--spd':'2.05s'}}>
                                        <g transform="translate(0,0) scale(0.98)">
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(0)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(30)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(60)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(90)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(120)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(150)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(180)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(210)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(240)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(270)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(300)" />
                                            <use href="#bladePath" fill="url(#bladeMetal)" transform="rotate(330)" />
                                        </g>
                                        <circle cx="0" cy="0" r="18" fill="url(#hubGrad)" stroke="#9b9b9b" stroke-width="1.2" />
                                        <circle cx="0" cy="0" r="6" fill="#333" />
                                    </g>
                                </g>
                                <g transform="translate(40,40)">
                                    <path d="M0 0 H840 V36 Q820 22 790 22 H50 Q30 22 10 36 V0 Z" fill="rgba(0,0,0,0.06)" />
                                </g>
                                <ellipse cx="460" cy="365" rx="240" ry="22" fill="rgba(0,0,0,0.55)" />
                            </svg>
                            {/* Fan buttons: they update the location.hash so React reads it */}
                            {/* Left fan button (Browse) */}
                            <button id="leftFanBtn" className="fan-btn" onClick={() => onNavClick('browse')}>Browse GPU</button>
                            {/* Right fan button (Host) */}
                            <button id="rightFanBtn" className="fan-btn" onClick={() => onNavClick('host')}>List GPU</button>
                        </div>
                        
                        {/* Text */}
                        <p className="hero-paragraph">Monetize your idle compute power by sharing your hardware with the student community or access affordable compute for your projects.</p>
                    </header>
                    <section className="taskforge-section">
                        <h2>Why Task Forge</h2>
                        <div className="taskforge-boxes">
                            <div className="taskforge-box">
                                <h3>High Performance</h3>
                                <p>Leverage top-tier GPUs and optimized infrastructure for maximum efficiency in your AI/ML workflows.</p>
                            </div>
                            <div className="taskforge-box">
                                <h3>Scalable & Flexible</h3>
                                <p>Choose exactly the resources you need, scale up or down on demand, and only pay for what you use.</p>
                            </div>
                            <div className="taskforge-box">
                                <h3>Global Accessibility</h3>
                                <p>Access GPU power from anywhere in the world with our secure, low-latency cloud platform.</p>
                            </div>
                        </div>
                    </section>
                </div>
            );
        };

        const GPUCard = ({ gpu, onDelete }) => (
            <div className="gpu-card">
                <div className="gpu-card-header">
                    <h3>{gpu.gpuName}</h3>
                    <span style={{ fontSize: '1.2rem', fontWeight: 'bold', color: 'var(--accent-hover)' }}>{gpu.price}/hr</span> {/* Changed Rs to  */}
                </div>
                <div className="gpu-card-body">
                    <p><strong>Owner:</strong> {gpu.owner || 'You'}</p>
                    <p><strong>Location:</strong> {gpu.location}</p>
                    <p><strong>Specs:</strong></p>
                    <ul>
                        <li>VRAM: {gpu.vram} GB</li>
                        <li>CPU: {gpu.cpuCores} cores</li>
                    </ul>
                </div>
                <div className="gpu-card-footer">
                    <button className="delete-button" onClick={() => onDelete(gpu.id)}>Delete</button>
                </div>
            </div>
        );

        const BrowsePage = ({ gpus, onDelete }) => {
            const [searchTerm, setSearchTerm] = useState('');
            const [minVram, setMinVram] = useState('');
            const gpuListRef = useRef(null);
            const filteredGpus = gpus.filter(gpu => {
                const searchMatch = gpu.gpuName.toLowerCase().includes(searchTerm.toLowerCase());
                const vramMatch = minVram === '' || gpu.vram >= parseInt(minVram);
                return searchMatch && vramMatch;
            });
            useEffect(() => {
                if (gpuListRef.current && typeof anime !== 'undefined') {
                    anime({
                        targets: gpuListRef.current.children,
                        opacity: [0, 1],
                        translateY: [20, 0],
                        delay: anime.stagger(100),
                        easing: 'easeOutQuad'
                    });
                } else if (gpuListRef.current) {
                    // fallback: make visible
                    Array.from(gpuListRef.current.children).forEach((c) => {
                        c.style.opacity = 1;
                        c.style.transform = 'none';
                    });
                }
            }, [filteredGpus]);
            return (
                <div className="page-content container">
                    <h2>Browse Available GPUs</h2>
                    <div className="filter-controls">
                        <input
                            type="text"
                            placeholder="Search by GPU name..."
                            value={searchTerm}
                            onChange={(e) => setSearchTerm(e.target.value)}
                        />
                        <select value={minVram} onChange={(e) => setMinVram(e.target.value)}>
                            <option value="">Min VRAM</option>
                            <option value="8">8GB+</option>
                            <option value="10">10GB+</option>
                            <option value="12">12GB+</option>
                            <option value="16">16GB+</option>
                            <option value="24">24GB+</option>
                        </select>
                    </div>
                    <div className="gpu-list" ref={gpuListRef}>
                        {filteredGpus.length > 0 ? (
                            filteredGpus.map(gpu => <GPUCard key={gpu.id} gpu={gpu} onDelete={onDelete} />)
                        ) : (
                            <p style={{ textAlign: 'center', width: '100%', fontStyle: 'italic', color: 'var(--text-color)' }}>No GPUs are currently listed. Be the first to list one!</p>
                        )}
                    </div>
                </div>
            );
        };

        const HostPage = ({ onListGpu }) => {
            const [form, setForm] = useState({
                gpuName: '',
                vram: '',
                cpuCores: '',
                price: '',
                location: ''
            });
            const [submitted, setSubmitted] = useState(false);
            const handleChange = (e) => {
                const { name, value } = e.target;
                setForm(prevForm => ({
                    ...prevForm,
                    [name]: value
                }));
            };
            const handleSubmit = async (e) => {
                e.preventDefault();
                await onListGpu(form);
                setSubmitted(true);
                setForm({
                    gpuName: '',
                    vram: '',
                    cpuCores: '',
                    price: '',
                    location: ''
                });
            };
            if (submitted) {
                return (
                    <div className="page-content container">
                        <h2>List Your GPU</h2>
                        <div className="success-message">
                            <p>Thank thank you! Your GPU has been listed successfully.</p>
                            <button className="cta-button primary" onClick={() => setSubmitted(false)}>List another GPU</button>
                        </div>
                            </div>
                        );
                    }
                    return (
                        <div className="page-content container">
                            <h2>List Your GPU</h2>
                            <p style={{ textAlign: 'center' }}>Monetize your idle compute power by sharing your hardware with the student community.</p>
                            <div className="form-container">
                                <form onSubmit={handleSubmit}>
                                    <div className="form-group">
                                        <label htmlFor="gpuName">GPU Name (e.g., NVIDIA RTX 3080)</label>
                                        <input type="text" id="gpuName" name="gpuName" value={form.gpuName} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="vram">VRAM (in GB)</label>
                                        <input type="number" id="vram" name="vram" value={form.vram} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="cpuCores">CPU Cores</label>
                                        <input type="number" id="cpuCores" name="cpuCores" value={form.cpuCores} onChange={handleChange} required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="price">Price per Hour (in )</label> {/* Changed Rs to  */}
                                        <input type="number" id="price" name="price" value={form.price} onChange={handleChange} step="0.01" required />
                                    </div>
                                    <div className="form-group">
                                        <label htmlFor="location">Location (e.g., Pune, India)</label>
                                        <input type="text" id="location" name="location" value={form.location} onChange={handleChange} required />
                                    </div>
                                    <button type="submit" className="form-submit-button">Submit Listing</button>
                                </form>
                            </div>
                        </div>
                    );
                };

                // --- New Use Case Pages ---
                const AIMLFrameworksPage = () => (
                    <div className="page-content container">
                        <h2>AI/ML Frameworks</h2>
                        <div className="taskforge-boxes" style={{ justifyContent: 'flex-start', flexDirection: 'column', alignItems: 'center' }}>
                            <div className="taskforge-box" style={{ width: '100%', maxWidth: '800px', marginBottom: '2rem' }}>
                                <h3>Execute cutting-edge ML workloads on decentralized GPUs.</h3>
                                <h4>Built for This</h4>
                                <ul>
                                    <li>Train and deploy models like PyTorch, TensorFlow, JAX on-demand.</li>
                                    <li>Distribute training across multiple nodes with TaskForges decentralized scheduling algorithm.</li>
                                    <li>Automatically optimize CUDA & NVIDIA-driver versions for your workload.</li>
                                    <li>Leverage token-based cost efficiency  only pay for the GPU cycles you consume.</li>
                                </ul>
                                <h4>Start Building: AI/ML Templates</h4>
                                <ul>
                                    <li>PyTorch  Scalable deep learning.</li>
                                    <li>TensorFlow  End-to-end ML platform.</li>
                                    <li>JAX  High-performance research ML.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                );

                const RenderingPage = () => (
                    <div className="page-content container">
                        <h2>3D & Video Rendering</h2>
                        <div className="taskforge-boxes" style={{ justifyContent: 'flex-start', flexDirection: 'column', alignItems: 'center' }}>
                            <div className="taskforge-box" style={{ width: '100%', maxWidth: '800px', marginBottom: '2rem' }}>
                                <h3>Accelerate creative rendering with distributed GPU power.</h3>
                                <h4>Built for This</h4>
                                <ul>
                                    <li>Render photorealistic 3D models, VFX, and animations with minimal latency.</li>
                                    <li>Split rendering tasks across multiple GPUs using TaskForges sharded job scheduler.</li>
                                    <li>Eliminate long render queues by accessing idle GPUs in the network.</li>
                                    <li>Scale seamlessly from small indie projects to studio-level rendering pipelines.</li>
                                </ul>
                                <h4>Start Building: Rendering Templates</h4>
                                <ul>
                                    <li>Blender GPU Renders  Architecture, design, animation.</li>
                                    <li>Cinema4D + Redshift  Professional VFX.</li>
                                    <li>Unreal Engine  Real-time 3D experiences.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                );

                const ImageVideoGenerationPage = () => (
                    <div className="page-content container">
                        <h2>AI Image + Video Generation</h2>
                        <div className="taskforge-boxes" style={{ justifyContent: 'flex-start', flexDirection: 'column', alignItems: 'center' }}>
                            <div className="taskforge-box" style={{ width: '100%', maxWidth: '800px', marginBottom: '2rem' }}>
                                <h3>Produce stunning AI-driven visuals at scale.</h3>
                                <h4>Built for This</h4>
                                <ul>
                                    <li>Generate AI images, animations, and video sequences with decentralized GPU clusters.</li>
                                    <li>Pre-configured templates for Stable Diffusion, ComfyUI, and Video Diffusion models.</li>
                                    <li>TaskForge Load Balancer ensures smooth handling of large batch generations.</li>
                                    <li>Creative professionals can plug directly into TaskForge Studio API for live rendering.</li>
                                <li>
                                    Leverage token-based cost efficiency  only pay for the GPU cycles you consume.
                                </li>
                                </ul>
                                <h4>Start Building: AI Image/Video Templates</h4>
                                <ul>
                                    <li>Stable Diffusion  Text-to-image generation.</li>
                                    <li>Disco Diffusion  AI-driven video art.</li>
                                    <li>ComfyUI + TaskForge Plugins  Modular creative workflows.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                );

                const App = () => {
                    const [currentPage, setCurrentPage] = useState('home');
                    const [gpus, setGpus] = useState([]);
                    // listen to hash changes so external HTML buttons can navigate
                    useEffect(() => {
                        const onHash = () => {
                            const hash = (window.location.hash || '').replace('#', '');
                            if (hash === 'browse' || hash === 'host' || hash === 'home' || hash === 'aiml' || hash === 'rendering' || hash === 'image-video') {
                                setCurrentPage(hash || 'home');
                            }
                        };
                        onHash();
                        window.addEventListener('hashchange', onHash);
                        return () => window.removeEventListener('hashchange', onHash);
                    }, []);

                    // Set data-page attribute on body to control SVG visibility
                    useEffect(() => {
                        document.body.setAttribute('data-page', currentPage);
                    }, [currentPage]);

                    useEffect(() => {
                        let unsub = () => {};
                        try {
                            unsub = db.collection('gpus').onSnapshot(snapshot => {
                                const gpusData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
                                setGpus(gpusData);
                            });
                        } catch (e) {
                            // fail gracefully if Firestore not available
                            console.error('Firestore snapshot error or not available', e);
                        }
                        return () => {
                            try {
                                unsub();
                            } catch (e) {}
                        };
                    }, []);
                    const listGpu = async (newGpu) => {
                        try {
                            await db.collection('gpus').add(newGpu);
                        } catch (error) {
                            console.error("Error adding document: ", error);
                        }
                    };
                    const deleteGpu = async (id) => {
                        try {
                            await db.collection('gpus').doc(id).delete();
                        } catch (error) {
                            console.error("Error deleting document: ", error);
                        }
                    };
                    const renderPage = () => {
                        switch (currentPage) {
                            case 'home':
                                return <HomePage onNavClick={setCurrentPage} />;
                            case 'browse':
                                return <BrowsePage gpus={gpus} onDelete={deleteGpu} />;
                            case 'host':
                                return <HostPage onListGpu={listGpu} />;
                            case 'aiml':
                                return <AIMLFrameworksPage />;
                            case 'rendering':
                                return <RenderingPage />;
                            case 'image-video':
                                return <ImageVideoGenerationPage />;
                            default:
                                return <HomePage onNavClick={setCurrentPage} />;
                        }
                    };
                    return (
                        <div>
                            {/* Render the animated tech background */}
                            <TechBackground /> 
                            <Navbar onNavClick={(p) => { setCurrentPage(p); window.location.hash = p; }} />
                            {renderPage()}
                        </div>
                    );
                };
                // Render app (React 18 UMD still supports ReactDOM.render in many environments, keep as-is)
                ReactDOM.render(<App />, document.getElementById('root'));
            </script>
        </body>
        </html>
                